---
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const jobs = t("jobs");
---

<style>
  p {
    text-wrap: balance;
  }
</style>

<main class="col-span-2 row-span-2 xl:mt-0">
  <div class="md:-mr-1 md:flex xl:hidden">
    <h2
      class="bg-black py-2 text-center text-3xl font-light uppercase text-white dark:border dark:border-zinc-600 dark:bg-zinc-800 md:mt-0 md:basis-1/2 lg:-ml-[1px] lg:basis-1/3"
    >
      {t("jobs.title")}
    </h2>
  </div>

  <div class="flex text-xs xl:hidden">
    <div class="basis-1/3 pb-6 pr-4 text-right"></div>
    <div class="basis-2/3 border-l border-black dark:border-zinc-600 md:pr-6">
    </div>
  </div>

  {
    jobs.map((item) => (
      <div class="flex text-xs">
        <div class="basis-1/3 pb-6 pr-4 text-right">
          <p class="inline bg-primary dark:text-black">{item.job}</p>
          <p>
            <Fragment set:html={item.place} />
          </p>
          <p class="mt-1 inline-block rounded bg-zinc-100 px-1 py-[2px] text-[10px] dark:bg-zinc-800 dark:text-zinc-400">
            {item.years}
          </p>
        </div>

        <div class="basis-2/3 border-l border-black dark:border-zinc-600 md:pr-6">
          <p class="relative pb-6 pl-4 md:pl-4">
            <Fragment set:html={item.info} />
            <span class="absolute -left-1 top-5 h-2 w-2 bg-primary" />
          </p>
        </div>
      </div>
    ))
  }

  <div class="hidden xl:flex">
    <h2
      class="-mr-2 basis-1/3 border border-black bg-black py-2 text-center text-3xl font-light uppercase text-white dark:border-zinc-600 dark:bg-zinc-800"
      style="margin-inline: auto"
    >
      {t("jobs.title")}
    </h2>
  </div>
</main>
