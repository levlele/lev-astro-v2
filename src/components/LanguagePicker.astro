---
import { languages } from '../i18n/ui';
import { getLangFromUrl } from '../i18n/utils';

const currentLang = getLangFromUrl(Astro.url);
---
<div class="absolute -top-[1px] right-2 md:right-6 overflow-hidden">
  <ul class="flex flex-row">
    {Object.entries(languages).map(([lang, label]) => (
      <li class="border border-b-0 border-black ml-2">
        <a class={`block px-4 py-2 bg-gray-200 hover:bg-secondary transition-colors ease-in-out duration-500 text-xs ${currentLang === lang ? 'bg-secondary' : ''}`} href={`/${lang}/`}>{label}</a>
      </li>
    ))}
  </ul>
</div>