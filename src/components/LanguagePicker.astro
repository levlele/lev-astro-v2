---
import { languages } from "../i18n/ui";
import { getLangFromUrl } from "../i18n/utils";

const currentLang = getLangFromUrl(Astro.url);
---

<div class="absolute -top-[1px] right-2 overflow-hidden dark:top-0 md:right-6">
  <ul class="flex flex-row">
    {
      Object.entries(languages).map(([lang, label]) => (
        <li class="ml-2 border border-b-0 border-black dark:border-0">
          <a
            class={`
            block px-4
            py-2 text-xs
            transition-colors duration-500 ease-in-out
            hover:bg-secondary
            dark:text-zinc-900
            ${currentLang === lang ? "bg-primary" : "bg-zinc-200"}
          `}
            href={`/${lang}/`}
          >
            {label}
          </a>
        </li>
      ))
    }
  </ul>
</div>
